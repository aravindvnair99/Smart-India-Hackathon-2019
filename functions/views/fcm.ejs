<html>
	<head>
		<title>FCM | Equity Sports</title>
		<style>
			div {
				margin-bottom: 15px;
			}
		</style>
	</head>

	<body>
		<div id="token"></div>
		<div id="msg"></div>
		<div id="notis"></div>
		<div id="err"></div>
		<script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
		<script>
			MsgElem = document.getElementById('msg');
			TokenElem = document.getElementById('token');
			NotisElem = document.getElementById('notis');
			ErrElem = document.getElementById('err');
			var config = {
				apiKey: 'AIzaSyDml28OtrVNIFajaAkUWGHNbRPEMM8FpcQ',
				authDomain: 'equity-sports.firebaseapp.com',
				databaseURL: 'https://equity-sports.firebaseio.com',
				storageBucket: 'equity-sports.appspot.com',
				messagingSenderId: '254746284439'
			};
			firebase.initializeApp(config);
			const messaging = firebase.messaging();
			messaging
				.requestPermission()
				.then(function() {
					MsgElem.innerHTML = 'Notification permission granted.';
					console.log('Notification permission granted.');
					return messaging.getToken();
				})
				.then(function(token) {
					TokenElem.innerHTML = 'token is : ' + token;
				})
				.catch(function(err) {
					ErrElem.innerHTML = ErrElem.innerHTML + '; ' + err;
					console.log('Unable to get permission to notify.', err);
				});

			messaging.onMessage(function(payload) {
				console.log('Message received. ', payload);
				NotisElem.innerHTML =
					NotisElem.innerHTML + JSON.stringify(payload);
			});
		</script>
	</body>
</html>
